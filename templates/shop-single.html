{% extends "base.html" %}
{% load static %}
{% block content %}

{% if product %}

<div class="site-wrap">
  <div class="bg-light py-3">
    <div class="container">
      <div class="row">
        <div class="col-md-12 mb-0"><a href="/">Home</a> <span class="mx-2 mb-0">/</span> <strong class="text-black">{{ product.name }}</strong></div>
      </div>
    </div>
  </div>  

  <div class="site-section">
    <div class="container">
      <div class="row">
        <div class="owl-carousel owl-theme col-sm product-images">
          {% for i in item_images %}
          <div class="item">
            <img id="product-image" src="{{ i.images.url }}" alt="Image" class="img-fluid">
          </div>
          {% endfor %}
        </div>
        <div class="col-md-6 product-details">
          <h2 class="text-black">{{ product.brand }}</h2>
          <h3 class="text-grey">{{ product.name }}</h3>
          <p class="mb-4">{{ product.description }}</p>
          <p>â‚¹<strong class="text-primary h4" id="product-price">{{ product.price }}</strong></p>
          <div class="mb-1 d-flex">
            <label for="option-sm" class="d-flex mr-3 mb-3">
              <span class="d-inline-block mr-2" style="top:-2px; position: relative;"><input type="radio" id="option-sm" name="shop-sizes"></span> <span class="d-inline-block text-black">Small</span>
            </label>
            <label for="option-md" class="d-flex mr-3 mb-3">
              <span class="d-inline-block mr-2" style="top:-2px; position: relative;"><input type="radio" id="option-md" name="shop-sizes"></span> <span class="d-inline-block text-black">Medium</span>
            </label>
            <label for="option-lg" class="d-flex mr-3 mb-3">
              <span class="d-inline-block mr-2" style="top:-2px; position: relative;"><input type="radio" id="option-lg" name="shop-sizes"></span> <span class="d-inline-block text-black">Large</span>
            </label>
            <label for="option-xl" class="d-flex mr-3 mb-3">
              <span class="d-inline-block mr-2" style="top:-2px; position: relative;"><input type="radio" id="option-xl" name="shop-sizes"></span> <span class="d-inline-block text-black"> Extra Large</span>
            </label>
          </div>
          <div class="mb-5">
            <div class="input-group mb-3" style="max-width: 120px;">
            <div class="input-group-prepend">
              <button class="btn btn-outline-primary js-btn-minus" type="button">&minus;</button>
            </div>
            <input type="text" id="item-quantity" class="form-control text-center" value="1" placeholder="" aria-label="Example text with button addon" aria-describedby="button-addon1">
            <div class="input-group-append">
              <button class="btn btn-outline-primary js-btn-plus" type="button">&plus;</button>
            </div>
          </div>

          </div>
          <input type="hidden" id="product-id" value="{{ product.id }}">
          <input type="hidden" id="product-name" value="{{ product.name }}">
          {% if user.is_authenticated %}
            <p><a href="#" id="add-to-cart-btn" class="buy-now btn btn-sm btn-primary">Add To Cart</a></p>
          {% else %}
            <button type="button" class="btn btn-warning">Add To Cart</button>
            <a href="#" class="buy-now btn btn-sm btn-primary">Login</a>
          {% endif %}

        </div>
      </div>
    </div>
  </div>

{% else %}
  No product
    {% endif %}

<!-- Featured Section -->
<div class="site-section block-3 site-blocks-2 bg-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-7 site-section-heading text-center pt-4">
        <h2>Featured Products</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="nonloop-block-3 owl-carousel">
          {% for item in featured_products %}
          <div class="item">
            <div class="block-4 text-center">
              <figure class="block-4-image">
                <img src="{{ item.image.url }}" alt="Image placeholder" class="img-fluid">
              </figure>
              <div class="block-4-text p-4">
                <h3><a href="/store/{{ item.encoded_id }}/{{ item.slug }}">{{ item.name }}</a></h3>
                <p class="mb-0">Finding perfect t-shirt</p>
                <p class="text-primary font-weight-bold">$50</p>
              </div>
            </div>
          </div>
          {% endfor %}
          <div class="item">
            <div class="block-4 text-center">
              <figure class="block-4-image">
                <img src="{% static "images/shoe_1.jpg" %}" alt="Image placeholder" class="img-fluid">
              </figure>
              <div class="block-4-text p-4">
                <h3><a href="#">Corater</a></h3>
                <p class="mb-0">Finding perfect products</p>
                <p class="text-primary font-weight-bold">$50</p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

  </div>
  {% endblock content %}
  {% block extra_js %}
<script src="{% static 'js/owl.carousel.min.js' %}"></script>
<script>
  $(document).ready(function(){
    $(".owl-carousel").owlCarousel({
      items: 1,
      loop: true,
      dots: true,
      autoplay: true,
      autoplayTimeout: 2000,
      autoplayHoverPause: true,
      stagePadding: 10,
      margin: 10
    });
  });
</script>
{% endblock extra_js%}